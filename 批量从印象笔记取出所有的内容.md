## 批量从印象笔记取出所有的内容



这个工具是用于从Evernote中导出数据的简单工具，它使用AppleScript来告诉Mac上的Evernote应用执行导出操作。

使用方法： 安装：

1. 安装python3和pip
2. 执行命令: `pip3 install exporteer_evernote_osx`

在运行导出之前，你可能希望确保应用已经与云同步：

```
exporteer_evernote_osx sync
```

要将所有的笔记导出为HTML文件，每个笔记本放在一个单独的子目录中：

```
exporteer_evernote_osx export -n TARGET_DIR
```

要将所有符合查询条件的笔记（例如，今年创建的笔记）导出到一个enex文件：

```
exporteer_evernote_osx export -Eq 'created:year' TARGET_FILE.enex
```

关于笔记之间的链接： Evernote的导出功能不会将笔记的唯一标识符或笔记所属笔记本的名称嵌入到HTML或enex文件中。此外，笔记之间的任何链接都被导出为链接到Evernote应用程序中的链接，而不是文件之间的链接。

为了解决这些限制，你可以以“增强”模式运行这个工具：

```
exporteer_evernote_osx export -e TARGET_DIR
```

在这种模式下，工具在导出后修改HTML文件，添加额外的元数据字段，包含笔记本名称和笔记URL。

注意：这可能会非常慢，并且可能会使计算机变得卡顿。建议使用 `-q` 参数将笔记分批导出，每批最多导出几百个，并在每批之间重新启动Evernote应用。然后，你可以将它们合并到一个文件夹中：

```
exporteer_evernote_osx merge TARGET_DIR FIRST_BATCH_DIR SECOND_BATCH_DIR..
```

最后，你可以使用 `relink` 命令将HTML文件中的evernote://链接替换为指向相应导出文件的链接：

```
exporteer_evernote_osx relink TARGET_DIR
```

对于大量的笔记，这可能需要一些时间，因为当前的实现效率相对较低。

更多文档： 完整的命令列表和选项可以在doc文件夹中找到。

开发： 设置：

1. 安装python3和pip

2. 克隆仓库

3. 建议创建虚拟环境：

   ```
   cd exporteer_evernote_osx
   python3 -m venv venv
   source venv/bin/activate
   ```

4. 安装依赖：

   ```
   pip install .
   pip install -r requirements-dev.txt
   ```

要运行集成测试（假设你至少在不同笔记本中创建了本月的一些笔记）：

```
PYTHONPATH=src pytest
```

（如上所示，覆盖PYTHONPATH确保测试针对src/目录中的代码运行，而不是安装的包的副本。）

要运行CLI：

```
PYTHONPATH=src python -m exporteer_evernote_osx ...
```

贡献： 欢迎在GitHub上提出Bug报告和拉取请求：https://github.com/brokensandals/exporteer_evernote_osx

许可： 这是根据MIT许可证的开源项目。